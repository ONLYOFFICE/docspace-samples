<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>login</title>
    <script src="{{PORTAL_SRC}}/static/scripts/sdk/1.0.1/api.js"></script>
    <style>
        #button {
            position: fixed;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: #007bff;
            color: white;
            font-size: 20px;
            padding: 15px 30px;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            z-index: 1000;
        }
    </style>
  </head>
  <body>
    <iframe id="ds-frame"></iframe>
    <button id="button">Login</button>
  </body>
  <script>
    document.getElementById("button").onclick = async () => {
      let login = "{{LOGIN}}"
      let password = "{{PASSWORD}}"
      let hashSettings = await docSpace.getHashSettings()
      let passwordHash = await docSpace.createHash(password, hashSettings)
      docSpace.login(login, passwordHash)
    }
    function onAppReady() {
      const frame = DocSpace.SDK.frames["ds-frame"]
      console.log(frame)
    }
    const config = {
      events: {
        onAppReady,
      },
      frameId: "ds-frame",
      width: "100%",
      height: "700px",
    }
    const docSpace = DocSpace.SDK.initSystem(config)
  </script>
</html>
