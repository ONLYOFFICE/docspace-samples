<!--
Example: Destroy frame

This example demonstrates how to destroy (remove) the embedded DocSpace iframe using the JavaScript SDK.

Using methods:
- DocSpace.SDK.initManager (https://api.onlyoffice.com/docspace/javascript-sdk/usage-sdk/classes/SDK/#initmanager)
- manager.destroyFrame (https://api.onlyoffice.com/docspace/javascript-sdk/usage-sdk/classes/SDKInstance/#destroyframe)
-->

<!-- Step 1: HTML Setup -->
<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="{PORTAL_SRC}/" />
    <meta charset="UTF-8" />

    <meta name="example-title" content="Destroy frame" />
    <meta
      name="example-description"
      content="Destroy (remove) the embedded DocSpace iframe using the JavaScript SDK."
    />

    <title>Destroy Frame</title>

    <script src="{PORTAL_SRC}/static/scripts/sdk/2.0.0/api.js"></script>

    
  
    <!-- App styles -->
    <script>
      (function () {
        var link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = new URL("../assets/css/style.css", window.location.href).toString();
        document.head.appendChild(link);
      })();
    </script>

</head>

  <body class="ex-destroy-frame">
    <div class="page">
      <div class="frame-wrap" id="frameWrap">
        <iframe id="ds-frame"></iframe>
      </div>

      <div class="action-bar">
        <button id="destroyBtn" disabled>Destroy Frame</button>
        <div class="status" id="status">Loading SDKâ€¦</div>
      </div>

      <div class="destroyed" id="destroyedState">
        DocSpace frame has been destroyed.
      </div>
    </div>

    <script>
      const destroyBtn = document.getElementById("destroyBtn");
      const status = document.getElementById("status");
      const frameWrap = document.getElementById("frameWrap");
      const destroyedState = document.getElementById("destroyedState");

      const docSpace = DocSpace.SDK.initManager({
        frameId: "ds-frame",
        width: "100%",
        height: "640px",
        theme: "base",
        events: {
          onAppReady: () => {
            destroyBtn.disabled = false;
            status.textContent = "Frame is active.";
          },
          onAppError: () => {
            status.textContent = "SDK error. Check portal URL / access.";
          }
        }
      });

      destroyBtn.onclick = () => {
        docSpace.destroyFrame();
        frameWrap.style.display = "none";
        destroyBtn.disabled = true;
        status.textContent = "Frame destroyed.";
        destroyedState.style.display = "block";
      };
    </script>
  </body>
</html>
