<!--
Example: Initialize editor

This example demonstrates how to open a document in the ONLYOFFICE DocSpace editor using the JavaScript SDK method.

Using methods:
- DocSpace.SDK.initEditor (https://api.onlyoffice.com/docspace/javascript-sdk/usage-sdk/classes/SDK/#initeditor)
-->

<!DOCTYPE html>
<html lang="en">
  <head>
    <base href="{PORTAL_SRC}/" />
    <meta charset="UTF-8" />

    <meta name="example-title" content="Init editor" />
    <meta
      name="example-description"
      content="Enter a file ID and open it in the DocSpace editor using the JavaScript SDK."
    />
    <meta name="example-group" content="basic" />

    <title>Init Editor</title>

    <script src="{PORTAL_SRC}/static/scripts/sdk/2.0.0/api.js"></script>

    
  
    <!-- App styles -->
    <script>
      (function () {
        var link = document.createElement("link");
        link.rel = "stylesheet";
        link.href = new URL("../assets/css/style.css", window.location.href).toString();
        document.head.appendChild(link);
      })();
    </script>

</head>

  <body class="ex-init-editor">
    <div class="wrap">
      <iframe id="ds-frame"></iframe>
    </div>

    <div class="bar">
      <input id="fileId" type="text" placeholder="File ID (e.g. 123456)" />
      <button id="openBtn" type="button" disabled>Open</button>
      <div class="hint" id="hint">Enter a file ID</div>
    </div>

    <script>
      const input = document.getElementById("fileId");
      const btn = document.getElementById("openBtn");
      const hint = document.getElementById("hint");

      function update() {
        const v = input.value.trim();
        btn.disabled = !v;
        hint.textContent = v ? "Ready" : "Enter a file ID";
      }

      input.addEventListener("input", update);

      btn.onclick = () => {
        const id = input.value.trim();
        if (!id) return;

        hint.textContent = "Openingâ€¦";

        DocSpace.SDK.initEditor({
          id: id,
          frameId: "ds-frame",
          width: "900px",
          height: "520px",
          theme: "base",
          events: {
            onAppReady: () => {
              hint.textContent = "Ready";
            },
            onAppError: (e) => {
              hint.textContent = "Error";
              alert(e && (e.message || e) ? String(e.message || e) : "Failed to open file.");
            }
          }
        });
      };

      update();
    </script>
  </body>
</html>
